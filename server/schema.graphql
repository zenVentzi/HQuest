scalar DateTime

type Book {
  title: String!
  created: DateTime!
  author: String!
}

type User {
  id: ID!
  email: String!
  fullName: String!
  intro: String!
  avatarSrc: String!
  me: Boolean!
  following: [ID!]!
  followers: [ID!]!
}

enum QuestionType {
  SCALE
  TEXT
  OPTIONS
  WOULD_YOU_SINGLE
  WOULD_YOU_DOUBLE
}

type Question {
  id: ID!
  type: QuestionType!
  possibleAnswers: [String!]
  question: String!
  answer: Answer
}

type Questions {
  answered: [Question!]!
  unanswered: [Question!]!
}

type Answer {
  id: ID!
  userId: ID!
  questionId: ID!
  value: String!
}

type Comment {
  id: ID!
  user: User!
  comment: String!
}

type Notification {
  id: ID!
  performerId: ID!
  performerAvatarSrc: String!
  text: String!
  seen: Boolean!
  createdOn: DateTime!
}

type LoginResult {
  authToken: String!
  userId: ID!
}

type Query {
  books: [Book!]!
  comments(answerId: ID!): [Comment!]
  notifications: [Notification]!
  book(title: String): Book
  users(match: String): [User!]!
  user(id: ID!): User
  questions(userId: ID!, all: Boolean!): Questions
}

type Mutation {
  addBook(title: String!, author: String!): Book!
  notifsMarkSeen: Boolean
  addComment(answerId: ID!, comment: String!): Comment!
  signUp(firstName: String!, surName: String!, email: String!, password: String!): String
  login(email: String!, password: String!): LoginResult!
  createQuestion(question: String!, type: QuestionType!, possibleAnswers: [String!]): String
  editAnswer(answerId: ID!, answerValue: String!): Answer!
  addAnswer(questionId: ID!, answerValue: String!): Answer!
  removeAnswer(answerId: ID!): Answer!
  removeQuestion(questionId: ID!): Question!
  uploadAvatar(base64Img: String!): String!
  follow(userId: ID!, follow: Boolean!): Boolean
  seedDb: String
}

type Subscription {
  bookAdded: Book!
}